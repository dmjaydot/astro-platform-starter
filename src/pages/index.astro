---
import Layout from '../layouts/Layout.astro';
import { getAuthSession } from '../lib/auth';

const session = await getAuthSession(Astro.cookies);
const userProfile = session ? { full_name: session.user.name } : {};
const isUserAdmin = session?.isAdmin ?? false;
---

<Layout title="Home" {session} {userProfile} {isUserAdmin}>
  <section class="hero" style="text-align:center; padding:4rem 2rem;">
    <h1>Create Authentic Content.<br>Get Paid.</h1>
    <p>Join thousands of creators partnering with top brands to produce engaging user-generated content that drives real results.</p>
    <a href="#features" class="hero-cta">Explore Campaigns â†’</a>
  </section>

  <section id="features" style="padding:4rem 2rem;">
    <h2>Why Creators Choose Banity</h2>
    <div class="features-grid" style="display:grid; gap:2rem; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); margin-top:2rem;">
      <div class="feature-card" style="background:white; padding:2rem; border-radius:12px; border:1px solid #e5e7eb;">
        <h3>Fair Pay</h3>
        <p>Transparent compensation for every campaign. Get paid within 30 days of completing approved deliverables.</p>
      </div>
      <div class="feature-card" style="background:white; padding:2rem; border-radius:12px; border:1px solid #e5e7eb;">
        <h3>Rights Protected</h3>
        <p>You retain ownership of your content. Limited 5-year license ensures your work is used fairly.</p>
      </div>
      <div class="feature-card" style="background:white; padding:2rem; border-radius:12px; border:1px solid #e5e7eb;">
        <h3>Fast Matching</h3>
        <p>Our platform connects you with campaigns that match your audience and style in minutes.</p>
      </div>
    </div>
  </section>
</Layout>
